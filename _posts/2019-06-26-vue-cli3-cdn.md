---
layout: post
title:  "vue-cli3 使用cdn引入js"
date:   2019-06-26 16:28:00 +0800
categories: 前端笔记
---


日常检查，发现我司一页面首屏打开耗时10s+，于是研究了一下，改了下js文件的引入方式，速度快了4倍有余！！


**以 vue 和 element-ui 为例**

### 1. index.html引入
我开始把 `<script>` 放在 `<body>`外了，打包版的白屏了；
```html
<link href="https://cdn.bootcss.com/element-ui/2.9.2/theme-chalk/index.css" rel="stylesheet">

<script src="https://cdn.bootcss.com/vue/2.6.10/vue.min.js"></script>
<script src="https://unpkg.com/element-ui@2.9.2/lib/index.js"></script>
```


### 2. vue.config.js配置
`element-ui`的cdn全局变量名称就是 `ELEMENT`，不要随意改，否则会报 `element-ui undefined` 之类的错误；总之就是要用对的变量名称，不知道的话去源码查一下；
```js
configureWebpack: {
  externals: {
    'vue': 'Vue',
    'element-ui': 'ELEMENT'
  }
}
```

### 3. main.js使用
入口文件 `main.js` 里import`vue` 和 `element-ui`，剩下的就没差了；
```js
import Vue from 'vue'
import ElementUI from 'element-ui'
Vue.use(ElementUI)
```

### 最后
从外部引入cdn的大致方法就是如此了，可能因项目而异，祝君顺利吧~
