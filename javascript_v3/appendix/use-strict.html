<!DOCTYPE html>
<html lang="en"><head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="author" content=""><title>严格模式规则 - JavaScript 高级程序设计 V3 | 柚子胖鸡_</title><meta name="baidu-site-verification" content="code-QQXB3LWw5E" />
<script>
  var _hmt = _hmt || [];
  (function() {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?1d4b09c687aa7d9e66a6041d5b5f58f1";
    var s = document.getElementsByTagName("script")[0]; 
    s.parentNode.insertBefore(hm, s);
  })();
</script>

  <meta name="keywords" content="JaimeCheng, 静态博客, Github Page, Jekyll">
  <meta name="description" content="JaimeCheng's Blog，记录前端笔记、生活杂事、读书随笔等。"><link rel="stylesheet" href="/assets/main.css?v=0.2.5" />
<link rel="stylesheet" href="/assets/my.css" />
<script src="/assets/main.js?v=0.2.5" defer></script><link rel="stylesheet" href="/assets/css/tomorrow.css" />
<script src="/assets/js/highlight.js"></script></head>
<body class="body-chapter">
    <div class="book__wrapper sidebar-right" id="bookMain"><div class="book-summary" id="bookSummary">
  <nav role="navigation">
    <ul class="summary">
      <li class="chapter ">
        <a href="/javascript_v3/" class="custom-link">JavaScript 高级程序设计 V3</a>
      </li>
      <li class="divider"></li><li class="chapter "><a href="/javascript_v3/README.html">JavaScript 高级程序设计</a></li><li class="chapter "><a href="/javascript_v3/content/README.html">章节内容</a><ul class="articles"><li class="chapter ">
            <a href="/javascript_v3/content/chapter01.html">1. JavaScript 简介</a>
          </li><li class="chapter ">
            <a href="/javascript_v3/content/chapter02.html">2. 在 HTML 中使用 JavaScript</a>
          </li><li class="chapter ">
            <a href="/javascript_v3/content/chapter03.html">3. JavaScript 基本概念</a>
          </li><li class="chapter ">
            <a href="/javascript_v3/content/chapter04.html">4. 变量、作用域和内存问题</a>
          </li><li class="chapter ">
            <a href="/javascript_v3/content/chapter05.html">5. 引用类型</a>
          </li><li class="chapter ">
            <a href="/javascript_v3/content/chapter06.html">6. 面向对象的程序设计</a>
          </li><li class="chapter ">
            <a href="/javascript_v3/content/chapter07.html">7. 函数表达式</a>
          </li><li class="chapter ">
            <a href="/javascript_v3/content/chapter08.html">8. BOM</a>
          </li><li class="chapter ">
            <a href="/javascript_v3/content/chapter09.html">9. 客户端检测</a>
          </li><li class="chapter ">
            <a href="/javascript_v3/content/chapter10.html">10. DOM</a>
          </li><li class="chapter ">
            <a href="/javascript_v3/content/chapter11.html">11. DOM 扩展</a>
          </li><li class="chapter ">
            <a href="/javascript_v3/content/chapter12.html">12. DOM2 和 DOM3</a>
          </li><li class="chapter ">
            <a href="/javascript_v3/content/chapter13.html">13. 事件</a>
          </li><li class="chapter ">
            <a href="/javascript_v3/content/chapter14.html">14. 表单脚本</a>
          </li><li class="chapter ">
            <a href="/javascript_v3/content/chapter15.html">15. 使用 Canvas 绘图</a>
          </li><li class="chapter ">
            <a href="/javascript_v3/content/chapter16.html">16. HTML5 脚本编程</a>
          </li><li class="chapter ">
            <a href="/javascript_v3/content/chapter17.html">17. 错误处理与调试</a>
          </li><li class="chapter ">
            <a href="/javascript_v3/content/chapter18.html">18.  JavaScript 与 XML</a>
          </li><li class="chapter ">
            <a href="/javascript_v3/content/chapter19.html">19. E4X</a>
          </li><li class="chapter ">
            <a href="/javascript_v3/content/chapter20.html">20. JSON</a>
          </li><li class="chapter ">
            <a href="/javascript_v3/content/chapter21.html">21. Ajax 与 Comet</a>
          </li><li class="chapter ">
            <a href="/javascript_v3/content/chapter22.html">22. 高级技巧</a>
          </li><li class="chapter ">
            <a href="/javascript_v3/content/chapter23.html">23. 离线应用与客户端存储</a>
          </li><li class="chapter ">
            <a href="/javascript_v3/content/chapter24.html">24. 最佳实践</a>
          </li><li class="chapter ">
            <a href="/javascript_v3/content/chapter25.html">25. 新兴的 API</a>
          </li></ul></li><li class="chapter "><a href="/javascript_v3/datatype/README.html">数据类型</a><ul class="articles"><li class="chapter ">
            <a href="/javascript_v3/datatype/undefined.html">Undefined</a>
          </li><li class="chapter ">
            <a href="/javascript_v3/datatype/null.html">Null</a>
          </li><li class="chapter ">
            <a href="/javascript_v3/datatype/boolean.html">Boolean</a>
          </li><li class="chapter ">
            <a href="/javascript_v3/datatype/number.html">Number</a>
          </li><li class="chapter ">
            <a href="/javascript_v3/datatype/string.html">String</a>
          </li><li class="chapter ">
            <a href="/javascript_v3/datatype/object.html">Object</a>
          </li></ul></li><li class="chapter "><a href="/javascript_v3/reference/README.html">引用类型</a><ul class="articles"><li class="chapter ">
            <a href="/javascript_v3/reference/array.html">Array</a>
          </li><li class="chapter ">
            <a href="/javascript_v3/reference/object.html">Object</a>
          </li><li class="chapter ">
            <a href="/javascript_v3/reference/function.html">Function</a>
          </li><li class="chapter ">
            <a href="/javascript_v3/reference/date.html">Date</a>
          </li><li class="chapter ">
            <a href="/javascript_v3/reference/regexp.html">RegExp</a>
          </li><li class="chapter ">
            <a href="/javascript_v3/reference/primitive-wrapper.html">基本包装类型</a>
          </li><li class="chapter ">
            <a href="/javascript_v3/reference/singleton-built-in-object.html">单体内置对象</a>
          </li></ul></li><li class="chapter "><a href="/javascript_v3/quiz/README.html">专项练习</a><ul class="articles"><li class="chapter ">
            <a href="/javascript_v3/quiz/operator.html">操作符</a>
          </li><li class="chapter ">
            <a href="/javascript_v3/quiz/statement.html">语句</a>
          </li><li class="chapter ">
            <a href="/javascript_v3/quiz/array.html">数组</a>
          </li><li class="chapter ">
            <a href="/javascript_v3/quiz/function.html">函数</a>
          </li></ul></li><li class="chapter "><a href="/javascript_v3/appendix/README.html">附录</a><ul class="articles"><li class="chapter ">
            <a href="/javascript_v3/appendix/operator-rules.html">操作符特殊规则</a>
          </li><li class="chapter active">
            <a href="/javascript_v3/appendix/use-strict.html">严格模式规则</a>
          </li><li class="chapter ">
            <a href="/javascript_v3/appendix/compatibility.html">兼容性汇总</a>
          </li></ul></li></ul>
  </nav>
</div>
<div class="book__body">
    <div class="body__inner"><a href="/" class="logo"><img src="/img/logo.png" class="logo_img"><h1>柚子胖鸡_</h1>
</a>
<!--<a href="/archive/" class="sidebar__toggler">
  <span class="sidebar__toggler_top"></span>
  <span class="sidebar__toggler_middle"></span>
  <span class="sidebar__toggler_bottom"></span>
</a> --><div class="book-header" role="navigation">
    <a href="#" id="summaryToggler" class="summary__toggler">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
  <circle cx="12" cy="12" r="1"></circle>
  <circle cx="19" cy="12" r="1"></circle>
  <circle cx="5" cy="12" r="1"></circle>
</svg>

    </a>
  <h1>
    严格模式规则 - JavaScript 高级程序设计 V3
  </h1>
</div><main class="chapter__wrapper" tabindex="-1" role="main">
        <div class="chapter__inner">
          <article class="chapter__content content">
            <ul class="section-nav">
<li class="toc-entry toc-h1"><a href="#严格模式规则">严格模式规则</a>
<ul>
<li class="toc-entry toc-h2"><a href="#变量声明--">变量声明  </a></li>
<li class="toc-entry toc-h2"><a href="#number类型--">Number类型  </a></li>
<li class="toc-entry toc-h2"><a href="#语句--">语句  </a></li>
<li class="toc-entry toc-h2"><a href="#函数--">函数  </a></li>
<li class="toc-entry toc-h2"><a href="#对象--">对象  </a></li>
<li class="toc-entry toc-h2"><a href="#global对象-">Global对象 </a></li>
</ul>
</li>
</ul><h1 id="严格模式规则">
<a class="anchor" href="#%E4%B8%A5%E6%A0%BC%E6%A8%A1%E5%BC%8F%E8%A7%84%E5%88%99" aria-hidden="true"><span class="octicon octicon-link"></span></a>严格模式规则</h1>

<h2 id="变量声明--">
<a class="anchor" href="#%E5%8F%98%E9%87%8F%E5%A3%B0%E6%98%8E--" aria-hidden="true"><span class="octicon octicon-link"></span></a>变量声明  <a id="variable-declaration"></a>
</h2>

<ul>
  <li>部分保留字不能作为标识符和属性名；eg.不能定义名为 <code class="language-plaintext highlighter-rouge">eval</code> 或 <code class="language-plaintext highlighter-rouge">arguments</code> 的变量，否则会导致语法错误；</li>
  <li>给未经声明的变量赋值在严格模式下会导致抛出 <code class="language-plaintext highlighter-rouge">ReferenceError</code> 错误； 初始化未经声明的变量会导致错误；</li>
  <li>对于尚未声明过的变量，只能执行一项操作，即使用 <code class="language-plaintext highlighter-rouge">typeof</code> 操作符检测其数据类型（对未经声明的变量调用 delete 不会导致错误，但这样做没什么实际意义，而且在严格模式下确实会导致错误）；</li>
</ul>

<h2 id="number类型--">
<a class="anchor" href="#number%E7%B1%BB%E5%9E%8B--" aria-hidden="true"><span class="octicon octicon-link"></span></a>Number类型  <a id="number"></a>
</h2>

<ul>
  <li>八进制字面量在严格模式下是无效的，会导致支持的 JavaScript 引擎抛出错误 ；</li>
</ul>

<h2 id="语句--">
<a class="anchor" href="#%E8%AF%AD%E5%8F%A5--" aria-hidden="true"><span class="octicon octicon-link"></span></a>语句  <a id="statements"></a>
</h2>

<ul>
  <li>严格模式下不允许使用 <code class="language-plaintext highlighter-rouge">with</code> 语句，否则将视为语法错误 ；</li>
</ul>

<h2 id="函数--">
<a class="anchor" href="#%E5%87%BD%E6%95%B0--" aria-hidden="true"><span class="octicon octicon-link"></span></a>函数  <a id="function"></a>
</h2>

<ul>
  <li>严格模式对函数限制除了参数名和函数名外，不能出现两个命名参数同名的情况 ，否则会语法错误；</li>
  <li>严格模式对如何使用 <code class="language-plaintext highlighter-rouge">arguments</code> 对象做出了一些限制。首先，像前面例子中那样的赋值会变得无效。也就是说，即使把 <code class="language-plaintext highlighter-rouge">arguments[1]</code> 设置为 10， <code class="language-plaintext highlighter-rouge">num2</code> 的值仍然还是 <code class="language-plaintext highlighter-rouge">undefined</code>。其次，重写 <code class="language-plaintext highlighter-rouge">arguments</code> 的值会导致语法错误（代码将不会执行）；</li>
  <li>
    <div class="language-javascript highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> <span class="kd">function</span> <span class="nx">doAdd</span><span class="p">(</span><span class="nx">num1</span><span class="p">,</span> <span class="nx">num2</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
  <span class="nx">alert</span><span class="p">(</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="nx">num2</span><span class="p">);</span>
 <span class="p">}</span>
</code></pre></div>    </div>
  </li>
  <li>严格模式下，<code class="language-plaintext highlighter-rouge">argunments.callee</code> 会导致错误，非严格模式下，ES5还定义了 <code class="language-plaintext highlighter-rouge">arguments.caller</code> 属性，在严格模式下访问会导致错误，非严格模式下这个属性始终是 <code class="language-plaintext highlighter-rouge">undefined</code>，定义该属性是为了区分函数的 <code class="language-plaintext highlighter-rouge">caller</code> 属性和 <code class="language-plaintext highlighter-rouge">arguments.caller</code>；</li>
  <li>严格模式下，不能为 <code class="language-plaintext highlighter-rouge">caller</code> 属性赋值，否则会导致错误；</li>
  <li>
<code class="language-plaintext highlighter-rouge">setTimeout</code> 都是在全局作用域中执行的，因此函数中 <code class="language-plaintext highlighter-rouge">this</code> 的值在非严格模式下指向 <code class="language-plaintext highlighter-rouge">window</code> 对象，在严格模式下是 <code class="language-plaintext highlighter-rouge">undefined</code> ；(虽然有不少的书上这么写，经测试，在严格模式下，<code class="language-plaintext highlighter-rouge">setTimeout()</code> 的回调函数里面的 <code class="language-plaintext highlighter-rouge">this</code> 仍然默认指向 <code class="language-plaintext highlighter-rouge">window对象</code>，并不是<code class="language-plaintext highlighter-rouge">undefined</code>)
    <div class="language-js highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">id</span><span class="dl">'</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="p">)</span>
  <span class="p">},</span><span class="mi">100</span><span class="p">)</span>
<span class="p">}</span>
<span class="kd">var</span> <span class="nx">id</span> <span class="o">=</span> <span class="mi">21</span><span class="p">;</span>
<span class="nx">foo</span><span class="p">.</span><span class="nx">call</span><span class="p">({</span><span class="dl">'</span><span class="s1">id</span><span class="dl">'</span><span class="p">:</span> <span class="mi">42</span><span class="p">})</span>
</code></pre></div>    </div>
  </li>
</ul>

<h2 id="对象--">
<a class="anchor" href="#%E5%AF%B9%E8%B1%A1--" aria-hidden="true"><span class="octicon octicon-link"></span></a>对象  <a id="object"></a>
</h2>
<ul>
  <li>对象的只读属性(<code class="language-plaintext highlighter-rouge">writable: false</code>)是不可修改的，如果尝试为它指定新值，则在非严格模式下，赋值操作将被忽略；在严格模式下，赋值操作将会导致抛出错误；</li>
  <li>把对象属性的 <code class="language-plaintext highlighter-rouge">configurable</code> 特性设置为 <code class="language-plaintext highlighter-rouge">false</code>，表示不能从对象中删除属性。如果对这个属性调用 <code class="language-plaintext highlighter-rouge">delete</code>，则在非严格模式下什么也不会发生，而在严格模式下会导致错误；</li>
  <li>访问器属性只指定 <code class="language-plaintext highlighter-rouge">getter</code>函数 意味着属性是不能写，尝试写入属性会被忽略。 在严格模式下，尝试写入会抛出错误。只指定 <code class="language-plaintext highlighter-rouge">setter</code> 也不能读，在非严格模式下会返回 <code class="language-plaintext highlighter-rouge">undefined</code>，在严格模式下会抛出错误；</li>
</ul>

<h2 id="global对象-">
<a class="anchor" href="#global%E5%AF%B9%E8%B1%A1-" aria-hidden="true"><span class="octicon octicon-link"></span></a>Global对象 <a id="global"></a>
</h2>
<ul>
  <li>严格模式下，在外部访问不到 <code class="language-plaintext highlighter-rouge">eval()</code> 中创建的任何变量或函数，为 <code class="language-plaintext highlighter-rouge">eval</code> 赋值也会导致错误；</li>
</ul>

          </article>
        </div><footer class="site-footer">
  © 2020<a href="/">柚子胖鸡_</a>. Theme<a href="https://github.com/erlzhang/jekyll-theme-persephone" target="_blank">Persephone</a>
</footer>
</main>
    </div><a href="/javascript_v3/appendix/operator-rules.html" class="navigation navigation-prev" aria-label="Previous page: 操作符特殊规则"><svg viewBox="0 0 32 32" width="32" height="32" fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
  <path d="M20 30 L8 16 20 2" />
</svg>
</a><a href="/javascript_v3/appendix/compatibility.html" class="navigation navigation-next" aria-label="Next page: 兼容性汇总"><svg viewBox="0 0 32 32" width="32" height="32" fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
  <path d="M12 30 L24 16 12 2" />
</svg>
</a></div>
</div><script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>
